\subsubsection{Schnittstelle Raspberry Pi und Freedomboard}
\label{sec:schnittstelle-raspi-freedom}
In diesem Kapitel werden fachübergreifende Schnittstellen beschrieben.
Die Elektrotechnik ist für die Informatik ein Service-Anbieter. Die
Informatik konsumiert Dienstleistungen in Form der Motoren-Steuerung.
Das Raspberry-PI ist über USB an das Freedom-Board angeschlossen. Die
Software-Komponente Raspberry-PI Controller sendet Konsolen-Befehle
über eine serielle Schnittstelle (UART) um die Motoren zu steuern. Es
gibt drei Motoren:

\begin{description}
	\item[BLDC:] Motor, welcher das Schwungrad betreibt.
	\item[DC:] Motor, welcher den Ballnachschub steuert.
	\item[STP:] Motor, welcher den Turm ausrichtet.
\end{description}

\noindent
Nachfolgend werden alle Konsolen Kommandos aufgelistet mit ihrer
Bedeutung. \\

\begin{table}[h!]
	\centering
	\renewcommand{\arraystretch}{1.5}
	\begin{tabular}{l l l}
		\textbf{CMD}	& \textbf{Parameter}	& \textbf{Beschreibung} \\
		\hline
		& & \\
		\texttt{BLDC} 	& \texttt{on} 		& Schaltet den Motor/Relger ein für das Schwungrad	\\
		\texttt{BLDC} 	& \texttt{off}		& Stoppt das Schwungrad					\\ 
		\texttt{BLDC} 	& \texttt{reset}	& Setzt das Schwungrad zurück				\\ 
		\texttt{BLDC} 	& \texttt{setrpm 5000}	& Setzt das Schwungrad auf 25\% der Drehzahl		\\ 
		& & \\
		\texttt{DC}	& \texttt{on}		& Startet den Ballnachschub				\\
		\texttt{DC}	& \texttt{off}		& Stoppt den Ballnachschub				\\ 
		\texttt{DC} 	& \texttt{reset}	& Setzt den Ballnachschub zurück			\\ 
		\texttt{DC}	& \texttt{up}		& Stellt den Ballnachschub in Vorwärtsrichtung		\\ 
		\texttt{DC}	& \texttt{down}		& Stellt den Ballnachschub in Rückwärtsrichtung		\\
		& & \\
		\texttt{STP} 	& \texttt{on}		& Schaltet den Schrittmotor ein 			\\ 
		\texttt{STP} 	& \texttt{off}		& Schaltet den Schrittmotor aus 			\\ 
		\texttt{STP}	& \texttt{reset}	& Setzt den Turm an seinen Ausgangspunkt zurück 	\\ 
		\texttt{STP} 	& \texttt{move 400}	& Richtet den Turm 400 Schritte nach rechts aus 	\\ 
	\end{tabular} 
	\caption{Konsolen-Befehle des Freedom Boards}
	\label{tab:freedom-board-konsolen-befehle}
\end{table}

\noindent
\textbf{Synchronisierung:} Ein Befehl wird als beendet betrachtet, wenn über die serielle Schnittstelle der String \texttt{accefa>} zurückkommt. Die Synchronisierung wird demzufolge über aktives Warten (Polling) realisiert.
